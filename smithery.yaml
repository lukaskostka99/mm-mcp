build:
  dockerfile: Dockerfile
  dockerBuildPath: .

startCommand:
  type: http
  # Health check je klíčový pro robustní nasazení.
  # Smithery počká, až tento endpoint vrátí 200 OK.
  healthCheck:
    path: /health
    initialDelaySeconds: 15
    periodSeconds: 30
  configSchema:
    type: object
    required: [MM_API_TOKEN]
    properties:
      MM_API_TOKEN:
        type: string
        title: Marketing Miner API Token
        description: Váš API token pro Marketing Miner API
  commandFunction: |-
    (config) => ({
      command: "python",
      args: ["marketing_miner.py"],
      env: {
        MM_API_TOKEN: config.MM_API_TOKEN,
      },
    })
